"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("tns-core-modules/data/observable");
var dialogs = require("tns-core-modules/ui/dialogs");
function onLoaded(args) {
    var tabView = args.object;
    var vm = new observable_1.Observable();
    vm.set("tabSelectedIndex", 0);
    vm.set("tabSelectedIndexResult", "Profile Tab (tabSelectedIndex = 0 )");
    tabView.bindingContext = vm;
}
exports.onLoaded = onLoaded;
function changeTab(args) {
    var vm = args.object.bindingContext;
    var tabSelectedIndex = vm.get("tabSelectedIndex");
    if (tabSelectedIndex === 0) {
        vm.set("tabSelectedIndex", 1);
    }
    else if (tabSelectedIndex === 1) {
        vm.set("tabSelectedIndex", 2);
    }
    else if (tabSelectedIndex === 2) {
        vm.set("tabSelectedIndex", 0);
    }
}
exports.changeTab = changeTab;
function onSelectedIndexChanged(args) {
    if (args.oldIndex !== -1) {
        var newIndex = args.newIndex;
        var vm = args.object.bindingContext;
        if (newIndex === 0) {
            vm.set("tabSelectedIndexResult", "Profile Tab (tabSelectedIndex = 0 )");
        }
        else if (newIndex === 1) {
            vm.set("tabSelectedIndexResult", "Stats Tab (tabSelectedIndex = 1 )");
        }
        else if (newIndex === 2) {
            vm.set("tabSelectedIndexResult", "Settings Tab (tabSelectedIndex = 2 )");
        }
        dialogs.alert("Selected index has changed ( Old index: " + args.oldIndex + " New index: " + args.newIndex + " )")
            .then(function () {
            console.log("Dialog closed!");
        });
    }
}
exports.onSelectedIndexChanged = onSelectedIndexChanged;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdGlvbi10cy1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmF2aWdhdGlvbi10cy1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0RBQTREO0FBRTVELHFEQUF1RDtBQUV2RCxrQkFBeUIsSUFBSTtJQUN6QixJQUFNLE9BQU8sR0FBcUIsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM5QyxJQUFNLEVBQUUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztJQUM1QixFQUFFLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUscUNBQXFDLENBQUMsQ0FBQztJQUV4RSxPQUFPLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUNoQyxDQUFDO0FBUEQsNEJBT0M7QUFFRCxtQkFBMEIsSUFBSTtJQUMxQixJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztJQUN0QyxJQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNwRCxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztBQUNMLENBQUM7QUFWRCw4QkFVQztBQUVELGdDQUF1QyxJQUFtQztJQUN0RSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQU0sRUFBRSxHQUFhLElBQUksQ0FBQyxNQUFPLENBQUMsY0FBYyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUscUNBQXFDLENBQUMsQ0FBQztRQUM1RSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztRQUMxRSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsc0NBQXNDLENBQUMsQ0FBQztRQUM3RSxDQUFDO1FBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyw2Q0FBMkMsSUFBSSxDQUFDLFFBQVEsb0JBQWUsSUFBSSxDQUFDLFFBQVEsT0FBSSxDQUFDO2FBQ2xHLElBQUksQ0FBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7QUFDTCxDQUFDO0FBaEJELHdEQWdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XG5pbXBvcnQge1RhYlZpZXcsIFNlbGVjdGVkSW5kZXhDaGFuZ2VkRXZlbnREYXRhfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy91aS90YWItdmlld1wiO1xuaW1wb3J0ICogYXMgZGlhbG9ncyBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy91aS9kaWFsb2dzXCI7XG4vLyA+PiB0YWItdmlldy1uYXZpZ2F0aW9uLWNvZGUtdHNcbmV4cG9ydCBmdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgY29uc3QgdGFiVmlldzpUYWJWaWV3ID0gPFRhYlZpZXc+IGFyZ3Mub2JqZWN0O1xuICAgIGNvbnN0IHZtID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4XCIsIDApO1xuICAgIHZtLnNldChcInRhYlNlbGVjdGVkSW5kZXhSZXN1bHRcIiwgXCJQcm9maWxlIFRhYiAodGFiU2VsZWN0ZWRJbmRleCA9IDAgKVwiKTtcblxuICAgIHRhYlZpZXcuYmluZGluZ0NvbnRleHQgPSB2bTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVRhYihhcmdzKSB7XG4gICAgY29uc3Qgdm0gPSBhcmdzLm9iamVjdC5iaW5kaW5nQ29udGV4dDtcbiAgICBjb25zdCB0YWJTZWxlY3RlZEluZGV4ID0gdm0uZ2V0KFwidGFiU2VsZWN0ZWRJbmRleFwiKTtcbiAgICBpZiAodGFiU2VsZWN0ZWRJbmRleCA9PT0gMCkge1xuICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4XCIsIDEpO1xuICAgIH0gZWxzZSBpZiAodGFiU2VsZWN0ZWRJbmRleCA9PT0gMSkge1xuICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4XCIsIDIpO1xuICAgIH0gZWxzZSBpZiAodGFiU2VsZWN0ZWRJbmRleCA9PT0gMikge1xuICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4XCIsIDApO1xuICAgIH1cbn1cbi8vIGRpc3BsYXlpbmcgdGhlIG9sZCBhbmQgbmV3IFRhYlZpZXcgc2VsZWN0ZWRJbmRleFxuZXhwb3J0IGZ1bmN0aW9uIG9uU2VsZWN0ZWRJbmRleENoYW5nZWQoYXJnczogU2VsZWN0ZWRJbmRleENoYW5nZWRFdmVudERhdGEpIHtcbiAgICBpZiAoYXJncy5vbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBhcmdzLm5ld0luZGV4O1xuICAgICAgICBjb25zdCB2bSA9ICg8VGFiVmlldz5hcmdzLm9iamVjdCkuYmluZGluZ0NvbnRleHQ7XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdm0uc2V0KFwidGFiU2VsZWN0ZWRJbmRleFJlc3VsdFwiLCBcIlByb2ZpbGUgVGFiICh0YWJTZWxlY3RlZEluZGV4ID0gMCApXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld0luZGV4ID09PSAxKSB7XG4gICAgICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4UmVzdWx0XCIsIFwiU3RhdHMgVGFiICh0YWJTZWxlY3RlZEluZGV4ID0gMSApXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld0luZGV4ID09PSAyKSB7XG4gICAgICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4UmVzdWx0XCIsIFwiU2V0dGluZ3MgVGFiICh0YWJTZWxlY3RlZEluZGV4ID0gMiApXCIpO1xuICAgICAgICB9XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoYFNlbGVjdGVkIGluZGV4IGhhcyBjaGFuZ2VkICggT2xkIGluZGV4OiAke2FyZ3Mub2xkSW5kZXh9IE5ldyBpbmRleDogJHthcmdzLm5ld0luZGV4fSApYClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpYWxvZyBjbG9zZWQhXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gPDwgdGFiLXZpZXctbmF2aWdhdGlvbi1jb2RlLXRzXG4iXX0=