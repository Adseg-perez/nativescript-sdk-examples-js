"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("tns-core-modules/data/observable");
var dialogs = require("tns-core-modules/ui/dialogs");
function onLoaded(args) {
    var tabView = args.object;
    var vm = new observable_1.Observable();
    vm.set("tabSelectedIndex", 0);
    vm.set("tabSelectedIndexResult", "Profile Tab (tabSelectedIndex = 0 )");
    tabView.bindingContext = vm;
}
exports.onLoaded = onLoaded;
function changeTab(args) {
    var vm = args.object.bindingContext;
    var tabSelectedIndex = vm.get("tabSelectedIndex");
    if (tabSelectedIndex === 0) {
        vm.set("tabSelectedIndex", 1);
    }
    else if (tabSelectedIndex === 1) {
        vm.set("tabSelectedIndex", 2);
    }
    else if (tabSelectedIndex === 2) {
        vm.set("tabSelectedIndex", 0);
    }
}
exports.changeTab = changeTab;
function onSelectedIndexChanged(args) {
    if (args.oldIndex !== -1) {
        var newIndex = args.newIndex;
        var vm = args.object.bindingContext;
        if (newIndex === 0) {
            vm.set("tabSelectedIndexResult", "Profile Tab (tabSelectedIndex = 0 )");
        }
        else if (newIndex === 1) {
            vm.set("tabSelectedIndexResult", "Stats Tab (tabSelectedIndex = 1 )");
        }
        else if (newIndex === 2) {
            vm.set("tabSelectedIndexResult", "Settings Tab (tabSelectedIndex = 2 )");
        }
        dialogs.alert("Selected index has changed ( Old index: " + args.oldIndex + " New index: " + args.newIndex + " )")
            .then(function () {
            console.log("Dialog closed!");
        });
    }
}
exports.onSelectedIndexChanged = onSelectedIndexChanged;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdGlvbi10cy1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmF2aWdhdGlvbi10cy1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0RBQTREO0FBRTVELHFEQUF1RDtBQUV2RCxrQkFBeUIsSUFBSTtJQUN6QixJQUFNLE9BQU8sR0FBcUIsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM5QyxJQUFNLEVBQUUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztJQUM1QixFQUFFLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUscUNBQXFDLENBQUMsQ0FBQztJQUV4RSxPQUFPLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUNoQyxDQUFDO0FBUEQsNEJBT0M7QUFFRCxtQkFBMEIsSUFBSTtJQUMxQixJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztJQUN0QyxJQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNwRCxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztBQUNMLENBQUM7QUFWRCw4QkFVQztBQUVELGdDQUF1QyxJQUFtQztJQUN0RSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQy9CLElBQU0sRUFBRSxHQUFhLElBQUksQ0FBQyxNQUFPLENBQUMsY0FBYyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUscUNBQXFDLENBQUMsQ0FBQztRQUM1RSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztRQUMxRSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsc0NBQXNDLENBQUMsQ0FBQztRQUM3RSxDQUFDO1FBQ0QsT0FBTyxDQUFDLEtBQUssQ0FBQyw2Q0FBMkMsSUFBSSxDQUFDLFFBQVEsb0JBQWUsSUFBSSxDQUFDLFFBQVEsT0FBSSxDQUFDO2FBQ2xHLElBQUksQ0FBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7QUFDTCxDQUFDO0FBaEJELHdEQWdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7VGFiVmlldywgU2VsZWN0ZWRJbmRleENoYW5nZWRFdmVudERhdGF9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL3RhYi12aWV3XCI7XHJcbmltcG9ydCAqIGFzIGRpYWxvZ3MgZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvZGlhbG9nc1wiO1xyXG4vLyA+PiB0YWItdmlldy1uYXZpZ2F0aW9uLWNvZGUtdHNcclxuZXhwb3J0IGZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpIHtcclxuICAgIGNvbnN0IHRhYlZpZXc6VGFiVmlldyA9IDxUYWJWaWV3PiBhcmdzLm9iamVjdDtcclxuICAgIGNvbnN0IHZtID0gbmV3IE9ic2VydmFibGUoKTtcclxuICAgIHZtLnNldChcInRhYlNlbGVjdGVkSW5kZXhcIiwgMCk7XHJcbiAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4UmVzdWx0XCIsIFwiUHJvZmlsZSBUYWIgKHRhYlNlbGVjdGVkSW5kZXggPSAwIClcIik7XHJcblxyXG4gICAgdGFiVmlldy5iaW5kaW5nQ29udGV4dCA9IHZtO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlVGFiKGFyZ3MpIHtcclxuICAgIGNvbnN0IHZtID0gYXJncy5vYmplY3QuYmluZGluZ0NvbnRleHQ7XHJcbiAgICBjb25zdCB0YWJTZWxlY3RlZEluZGV4ID0gdm0uZ2V0KFwidGFiU2VsZWN0ZWRJbmRleFwiKTtcclxuICAgIGlmICh0YWJTZWxlY3RlZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdm0uc2V0KFwidGFiU2VsZWN0ZWRJbmRleFwiLCAxKTtcclxuICAgIH0gZWxzZSBpZiAodGFiU2VsZWN0ZWRJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIHZtLnNldChcInRhYlNlbGVjdGVkSW5kZXhcIiwgMik7XHJcbiAgICB9IGVsc2UgaWYgKHRhYlNlbGVjdGVkSW5kZXggPT09IDIpIHtcclxuICAgICAgICB2bS5zZXQoXCJ0YWJTZWxlY3RlZEluZGV4XCIsIDApO1xyXG4gICAgfVxyXG59XHJcbi8vIGRpc3BsYXlpbmcgdGhlIG9sZCBhbmQgbmV3IFRhYlZpZXcgc2VsZWN0ZWRJbmRleFxyXG5leHBvcnQgZnVuY3Rpb24gb25TZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzOiBTZWxlY3RlZEluZGV4Q2hhbmdlZEV2ZW50RGF0YSkge1xyXG4gICAgaWYgKGFyZ3Mub2xkSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgY29uc3QgbmV3SW5kZXggPSBhcmdzLm5ld0luZGV4O1xyXG4gICAgICAgIGNvbnN0IHZtID0gKDxUYWJWaWV3PmFyZ3Mub2JqZWN0KS5iaW5kaW5nQ29udGV4dDtcclxuICAgICAgICBpZiAobmV3SW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgdm0uc2V0KFwidGFiU2VsZWN0ZWRJbmRleFJlc3VsdFwiLCBcIlByb2ZpbGUgVGFiICh0YWJTZWxlY3RlZEluZGV4ID0gMCApXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV3SW5kZXggPT09IDEpIHtcclxuICAgICAgICAgICAgdm0uc2V0KFwidGFiU2VsZWN0ZWRJbmRleFJlc3VsdFwiLCBcIlN0YXRzIFRhYiAodGFiU2VsZWN0ZWRJbmRleCA9IDEgKVwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5ld0luZGV4ID09PSAyKSB7XHJcbiAgICAgICAgICAgIHZtLnNldChcInRhYlNlbGVjdGVkSW5kZXhSZXN1bHRcIiwgXCJTZXR0aW5ncyBUYWIgKHRhYlNlbGVjdGVkSW5kZXggPSAyIClcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoYFNlbGVjdGVkIGluZGV4IGhhcyBjaGFuZ2VkICggT2xkIGluZGV4OiAke2FyZ3Mub2xkSW5kZXh9IE5ldyBpbmRleDogJHthcmdzLm5ld0luZGV4fSApYClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaWFsb2cgY2xvc2VkIVwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLy8gPDwgdGFiLXZpZXctbmF2aWdhdGlvbi1jb2RlLXRzXHJcbiJdfQ==