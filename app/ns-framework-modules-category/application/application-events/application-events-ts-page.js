"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var applicationModule = require("tns-core-modules/application");
var observable_1 = require("tns-core-modules/data/observable");
var enums = require("tns-core-modules/ui/enums");
var vm;
var launchListener;
var suspendListener;
var resumeListener;
var exitListener;
var displayedListener;
var lowMemoryListener;
var orientationChangedListener;
var uncaughtErrorListener;
exports.onNavigatingTo = function (navigatedData) {
    var page = navigatedData.object;
    vm = new observable_1.Observable();
    vm.set("actionBarTitle", navigatedData.context.actionBarTitle);
    vm.set("info", "Refer to the code-behind files \nfor Application Events snippets");
    if (applicationModule.android) {
        var activity = applicationModule.android.foregroundActivity;
        var orientationEnum = activity.getResources().getConfiguration().orientation;
        vm.set("orientation", orientationEnum === 1
            ? enums.DeviceOrientation.portrait
            : enums.DeviceOrientation.landscape);
        vm.set("resumeEvent", "");
        vm.set("resumeEvent", "");
        vm.set("launchEvent", "");
        vm.set("displayedEvent", "");
    }
    else if (applicationModule.ios) {
        vm.set("orientation", "portrait");
    }
    page.bindingContext = vm;
    page.actionBar.title = navigatedData.context.title;
};
exports.onGridLoaded = function (eventData) {
    launchListener = applicationModule.on(applicationModule.launchEvent, function (args) {
        console.log("Root View: ", args.root);
        console.log("The appication was launched!");
        vm.set("resumeEvent", "The appication was launched!");
    });
    suspendListener = applicationModule.on(applicationModule.suspendEvent, function (args) {
        console.log("The appication was suspended!");
        vm.set("suspendEvent", "The appication was suspended!");
    });
    resumeListener = applicationModule.on(applicationModule.resumeEvent, function (args) {
        console.log("The appication was resumed!");
        vm.set("resumeEvent", "The appication was resumed!");
    });
    exitListener = applicationModule.on(applicationModule.exitEvent, function (args) {
        console.log("The appication was closed!");
    });
    displayedListener = applicationModule.on(applicationModule.displayedEvent, function (args) {
        console.log("NativeScript displayedEvent!");
        vm.set("displayedEvent", "The appication is displayed!");
    });
    lowMemoryListener = applicationModule.on(applicationModule.lowMemoryEvent, function (args) {
        console.log("Instance: ", args.object);
    });
    orientationChangedListener = applicationModule.on(applicationModule.orientationChangedEvent, function (args) {
        console.log("Orientation: ", args.newValue);
        vm.set("orientation", args.newValue);
    });
    uncaughtErrorListener = applicationModule.on(applicationModule.uncaughtErrorEvent, function (args) {
        console.log("NativeScript Error: ", args.error);
    });
};
exports.onGridUnloaded = function () {
    applicationModule.off(applicationModule.launchEvent, launchListener);
    applicationModule.off(applicationModule.resumeEvent, resumeListener);
    applicationModule.off(applicationModule.suspendEvent, suspendListener);
    applicationModule.off(applicationModule.exitEvent, exitListener);
    applicationModule.off(applicationModule.displayedEvent, displayedListener);
    applicationModule.off(applicationModule.lowMemoryEvent, lowMemoryListener);
    applicationModule.off(applicationModule.orientationChangedEvent, orientationChangedListener);
    applicationModule.off(applicationModule.uncaughtErrorEvent, uncaughtErrorListener);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24tZXZlbnRzLXRzLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhcHBsaWNhdGlvbi1ldmVudHMtdHMtcGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGdFQUFrRTtBQUVsRSwrREFBOEQ7QUFDOUQsaURBQW1EO0FBQ25ELElBQUksRUFBRSxDQUFDO0FBQ1AsSUFBSSxjQUFjLENBQUM7QUFDbkIsSUFBSSxlQUFlLENBQUM7QUFDcEIsSUFBSSxjQUFjLENBQUM7QUFDbkIsSUFBSSxZQUFZLENBQUM7QUFDakIsSUFBSSxpQkFBaUIsQ0FBQztBQUN0QixJQUFJLGlCQUFpQixDQUFDO0FBQ3RCLElBQUksMEJBQTBCLENBQUM7QUFDL0IsSUFBSSxxQkFBcUIsQ0FBQztBQUViLFFBQUEsY0FBYyxHQUFHLFVBQUMsYUFBYTtJQUN4QyxJQUFNLElBQUksR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDO0lBQ2xDLEVBQUUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztJQUN0QixFQUFFLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDL0QsRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsa0VBQWtFLENBQUMsQ0FBQztJQUNuRixFQUFFLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQU0sUUFBUSxHQUFHLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztRQUM5RCxJQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsWUFBWSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxXQUFXLENBQUM7UUFDL0UsRUFBRSxDQUFDLEdBQUcsQ0FDRixhQUFhLEVBQ2IsZUFBZSxLQUFLLENBQUM7WUFDakIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRO1lBQ2xDLENBQUMsQ0FBQyxLQUFL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USxDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDLENBQUM7SUFDSCxxQkFBcUIsR0FBRyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLEVBQUUsVUFBQyxJQUFJO1FBRXBGLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDO0FBRVcsUUFBQSxjQUFjLEdBQUc7SUFFMUIsaUJBQWlCLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNyRSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3JFLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLENBQUM7SUFDdkUsaUJBQWlCLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUNqRSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLENBQUM7SUFDM0UsaUJBQWlCLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQzNFLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO0lBQzdGLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0FBRXZGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vID4+IGFwcGxpY2F0aW9uLWltcG9ydC10c1xuaW1wb3J0ICogYXMgYXBwbGljYXRpb25Nb2R1bGUgZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvYXBwbGljYXRpb25cIjtcbi8vIDw8IGFwcGxpY2F0aW9uLWltcG9ydC10c1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL2RhdGEvb2JzZXJ2YWJsZVwiO1xuaW1wb3J0ICogYXMgZW51bXMgZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvZW51bXNcIjtcbmxldCB2bTtcbmxldCBsYXVuY2hMaXN0ZW5lcjtcbmxldCBzdXNwZW5kTGlzdGVuZXI7XG5sZXQgcmVzdW1lTGlzdGVuZXI7XG5sZXQgZXhpdExpc3RlbmVyO1xubGV0IGRpc3BsYXllZExpc3RlbmVyO1xubGV0IGxvd01lbW9yeUxpc3RlbmVyO1xubGV0IG9yaWVudGF0aW9uQ2hhbmdlZExpc3RlbmVyO1xubGV0IHVuY2F1Z2h0RXJyb3JMaXN0ZW5lcjtcblxuZXhwb3J0IGNvbnN0IG9uTmF2aWdhdGluZ1RvID0gKG5hdmlnYXRlZERhdGEpID0+IHtcbiAgICBjb25zdCBwYWdlID0gbmF2aWdhdGVkRGF0YS5vYmplY3Q7XG4gICAgdm0gPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgIHZtLnNldChcImFjdGlvbkJhclRpdGxlXCIsIG5hdmlnYXRlZERhdGEuY29udGV4dC5hY3Rpb25CYXJUaXRsZSk7XG4gICAgdm0uc2V0KFwiaW5mb1wiLCBcIlJlZmVyIHRvIHRoZSBjb2RlLWJlaGluZCBmaWxlcyBcXG5mb3IgQXBwbGljYXRpb24gRXZlbnRzIHNuaXBwZXRzXCIpO1xuICAgIGlmIChhcHBsaWNhdGlvbk1vZHVsZS5hbmRyb2lkKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gYXBwbGljYXRpb25Nb2R1bGUuYW5kcm9pZC5mb3JlZ3JvdW5kQWN0aXZpdHk7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uRW51bSA9IGFjdGl2aXR5LmdldFJlc291cmNlcygpLmdldENvbmZpZ3VyYXRpb24oKS5vcmllbnRhdGlvbjtcbiAgICAgICAgdm0uc2V0KFxuICAgICAgICAgICAgXCJvcmllbnRhdGlvblwiLFxuICAgICAgICAgICAgb3JpZW50YXRpb25FbnVtID09PSAxXG4gICAgICAgICAgICAgICAgPyBlbnVtcy5EZXZpY2VPcmllbnRhdGlvbi5wb3J0cmFpdFxuICAgICAgICAgICAgICAgIDogZW51bXMuRGV2aWNlT3JpZW50YXRpb24ubGFuZHNjYXBlXG4gICAgICAgICk7XG4gICAgICAgIHZtLnNldChcInJlc3VtZUV2ZW50XCIsIFwiXCIpO1xuICAgICAgICB2bS5zZXQoXCJyZXN1bWVFdmVudFwiLCBcIlwiKTtcbiAgICAgICAgdm0uc2V0KFwibGF1bmNoRXZlbnRcIiwgXCJcIik7XG4gICAgICAgIHZtLnNldChcImRpc3BsYXllZEV2ZW50XCIsIFwiXCIpO1xuICAgIH0gZWxzZSBpZiAoYXBwbGljYXRpb25Nb2R1bGUuaW9zKSB7XG4gICAgICAgIHZtLnNldChcIm9yaWVudGF0aW9uXCIsIFwicG9ydHJhaXRcIik7XG4gICAgfVxuICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSB2bTtcbiAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IG5hdmlnYXRlZERhdGEuY29udGV4dC50aXRsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBvbkdyaWRMb2FkZWQgPSAoZXZlbnREYXRhKSA9PiB7XG4gICAgLy8gPj4gYXBwbGljYXRpb24tZXZlbnRzLXRzXG4gICAgbGF1bmNoTGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5sYXVuY2hFdmVudCwgKGFyZ3MpID0+IHtcbiAgICAgICAgLy8gVGhlIHJvb3QgdmlldyBmb3IgdGhpcyBXaW5kb3cgb24gaU9TIG9yIEFjdGl2aXR5IGZvciBBbmRyb2lkLlxuICAgICAgICAvLyBJZiBub3Qgc2V0IGEgbmV3IEZyYW1lIHdpbGwgYmUgY3JlYXRlZCBhcyBhIHJvb3QgdmlldyBpbiBvcmRlciB0byBtYWludGFpbiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgY29uc29sZS5sb2coXCJSb290IFZpZXc6IFwiLCBhcmdzLnJvb3QpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSBhcHBpY2F0aW9uIHdhcyBsYXVuY2hlZCFcIik7XG4gICAgICAgIHZtLnNldChcInJlc3VtZUV2ZW50XCIsIFwiVGhlIGFwcGljYXRpb24gd2FzIGxhdW5jaGVkIVwiKTtcbiAgICB9KTtcbiAgICBzdXNwZW5kTGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5zdXNwZW5kRXZlbnQsIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIGFwcGljYXRpb24gd2FzIHN1c3BlbmRlZCFcIik7XG4gICAgICAgIHZtLnNldChcInN1c3BlbmRFdmVudFwiLCBcIlRoZSBhcHBpY2F0aW9uIHdhcyBzdXNwZW5kZWQhXCIpO1xuICAgIH0pO1xuICAgIHJlc3VtZUxpc3RlbmVyID0gYXBwbGljYXRpb25Nb2R1bGUub24oYXBwbGljYXRpb25Nb2R1bGUucmVzdW1lRXZlbnQsIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIGFwcGljYXRpb24gd2FzIHJlc3VtZWQhXCIpO1xuICAgICAgICB2bS5zZXQoXCJyZXN1bWVFdmVudFwiLCBcIlRoZSBhcHBpY2F0aW9uIHdhcyByZXN1bWVkIVwiKTtcbiAgICB9KTtcbiAgICBleGl0TGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5leGl0RXZlbnQsIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIGFwcGljYXRpb24gd2FzIGNsb3NlZCFcIik7XG4gICAgfSk7XG4gICAgZGlzcGxheWVkTGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5kaXNwbGF5ZWRFdmVudCwgKGFyZ3MpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOYXRpdmVTY3JpcHQgZGlzcGxheWVkRXZlbnQhXCIpO1xuICAgICAgICB2bS5zZXQoXCJkaXNwbGF5ZWRFdmVudFwiLCBcIlRoZSBhcHBpY2F0aW9uIGlzIGRpc3BsYXllZCFcIik7XG4gICAgfSk7XG4gICAgbG93TWVtb3J5TGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5sb3dNZW1vcnlFdmVudCwgKGFyZ3MpID0+IHtcbiAgICAgICAgLy8gdGhlIGluc3RhbmNlIHRoYXQgaGFzIHJhaWRzZWQgdGhlIGV2ZW50XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5zdGFuY2U6IFwiLCBhcmdzLm9iamVjdCk7XG4gICAgfSk7XG4gICAgb3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS5vcmllbnRhdGlvbkNoYW5nZWRFdmVudCwgKGFyZ3MpID0+IHtcbiAgICAgICAgLy8gb3JpZW50YXRpb25DaGFuZ2VkRXZlbnREYXRhLm5ld1ZhbHVlOiBcInBvcnRyYWl0XCIgfCBcImxhbmRzY2FwZVwiIHwgXCJ1bmtub3duXCJcbiAgICAgICAgY29uc29sZS5sb2coXCJPcmllbnRhdGlvbjogXCIsIGFyZ3MubmV3VmFsdWUpO1xuICAgICAgICB2bS5zZXQoXCJvcmllbnRhdGlvblwiLCBhcmdzLm5ld1ZhbHVlKTtcbiAgICB9KTtcbiAgICB1bmNhdWdodEVycm9yTGlzdGVuZXIgPSBhcHBsaWNhdGlvbk1vZHVsZS5vbihhcHBsaWNhdGlvbk1vZHVsZS51bmNhdWdodEVycm9yRXZlbnQsIChhcmdzKSA9PiB7XG4gICAgICAgIC8vIFVuaGFuZGxlZEVycm9yRXZlbnREYXRhLmVycm9yOiBOYXRpdmVTY3JpcHRFcnJvclxuICAgICAgICBjb25zb2xlLmxvZyhcIk5hdGl2ZVNjcmlwdCBFcnJvcjogXCIsIGFyZ3MuZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIDw8IGFwcGxpY2F0aW9uLWV2ZW50cy10c1xufTtcblxuZXhwb3J0IGNvbnN0IG9uR3JpZFVubG9hZGVkID0gKCkgPT4ge1xuICAgIC8vID4+IGFwcGxpY2F0aW9uLWV2ZW50cy1vZmYtdHNcbiAgICBhcHBsaWNhdGlvbk1vZHVsZS5vZmYoYXBwbGljYXRpb25Nb2R1bGUubGF1bmNoRXZlbnQsIGxhdW5jaExpc3RlbmVyKTtcbiAgICBhcHBsaWNhdGlvbk1vZHVsZS5vZmYoYXBwbGljYXRpb25Nb2R1bGUucmVzdW1lRXZlbnQsIHJlc3VtZUxpc3RlbmVyKTtcbiAgICBhcHBsaWNhdGlvbk1vZHVsZS5vZmYoYXBwbGljYXRpb25Nb2R1bGUuc3VzcGVuZEV2ZW50LCBzdXNwZW5kTGlzdGVuZXIpO1xuICAgIGFwcGxpY2F0aW9uTW9kdWxlLm9mZihhcHBsaWNhdGlvbk1vZHVsZS5leGl0RXZlbnQsIGV4aXRMaXN0ZW5lcik7XG4gICAgYXBwbGljYXRpb25Nb2R1bGUub2ZmKGFwcGxpY2F0aW9uTW9kdWxlLmRpc3BsYXllZEV2ZW50LCBkaXNwbGF5ZWRMaXN0ZW5lcik7XG4gICAgYXBwbGljYXRpb25Nb2R1bGUub2ZmKGFwcGxpY2F0aW9uTW9kdWxlLmxvd01lbW9yeUV2ZW50LCBsb3dNZW1vcnlMaXN0ZW5lcik7XG4gICAgYXBwbGljYXRpb25Nb2R1bGUub2ZmKGFwcGxpY2F0aW9uTW9kdWxlLm9yaWVudGF0aW9uQ2hhbmdlZEV2ZW50LCBvcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcik7XG4gICAgYXBwbGljYXRpb25Nb2R1bGUub2ZmKGFwcGxpY2F0aW9uTW9kdWxlLnVuY2F1Z2h0RXJyb3JFdmVudCwgdW5jYXVnaHRFcnJvckxpc3RlbmVyKTtcbiAgICAvLyA8PCBhcHBsaWNhdGlvbi1ldmVudHMtb2ZmLXRzXG59O1xuXG4iXX0=