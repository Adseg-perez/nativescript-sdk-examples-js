"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("tns-core-modules/data/observable");
var timer_1 = require("tns-core-modules/timer");
var color = ["green", "yellow", "red"];
var id;
var status = true;
function onNavigatingTo(args) {
    var page = args.object;
    var vm = new observable_1.Observable();
    vm.set("buttonText", "Disable color change");
    vm.set("buttoncolor", "gray");
    id = timer_1.setInterval(function () {
        var randNumber = Math.floor(Math.random() * (color.length));
        vm.set("buttoncolor", color[randNumber]);
    }, 1000);
    page.bindingContext = vm;
}
exports.onNavigatingTo = onNavigatingTo;
function onButtonTap(args) {
    var page = args.object.page;
    var vm = page.bindingContext;
    if (status) {
        timer_1.clearInterval(id);
        vm.set("buttonText", "Enable color change");
    }
    else {
        id = timer_1.setInterval(function () {
            var randNumber = Math.floor(Math.random() * (color.length));
            vm.set("buttoncolor", color[randNumber]);
        }, 1000);
        vm.set("buttonText", "Disable color change");
    }
    status = !status;
}
exports.onButtonTap = onButtonTap;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJ2YWwtdHMtcGFnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImludGVydmFsLXRzLXBhZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrREFBNEQ7QUFHNUQsZ0RBQWtFO0FBRWxFLElBQU0sS0FBSyxHQUFHLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN6QyxJQUFJLEVBQUUsQ0FBQztBQUNQLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztBQUVsQix3QkFBK0IsSUFBSTtJQUMvQixJQUFNLElBQUksR0FBZ0IsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN0QyxJQUFNLEVBQUUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztJQUU1QixFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0lBQzdDLEVBQUUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRTlCLEVBQUUsR0FBRyxtQkFBVyxDQUFDO1FBQ2IsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM5RCxFQUFFLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFFVCxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUM3QixDQUFDO0FBYkQsd0NBYUM7QUFFRCxxQkFBNEIsSUFBSTtJQUM1QixJQUFNLElBQUksR0FBZ0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDM0MsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBRVQscUJBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVsQixFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLEVBQUUsR0FBRyxtQkFBVyxDQUFDO1lBQ2IsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM5RCxFQUFFLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUM3QyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxFQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFDRCxNQUFNLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDckIsQ0FBQztBQWpCRCxrQ0FpQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09ic2VydmFibGV9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL2RhdGEvb2JzZXJ2YWJsZVwiO1xyXG5pbXBvcnQge1BhZ2V9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL3BhZ2VcIlxyXG4vLyA+PiBpbXBvcnQtdGltZXJcclxuaW1wb3J0IHtzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdGltZXJcIjtcclxuLy8gPDwgaW1wb3J0LXRpbWVyXHJcbmNvbnN0IGNvbG9yID0gW1wiZ3JlZW5cIiwgXCJ5ZWxsb3dcIiwgXCJyZWRcIl07XHJcbmxldCBpZDtcclxubGV0IHN0YXR1cyA9IHRydWU7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xyXG4gICAgY29uc3QgcGFnZTogUGFnZSA9IDxQYWdlPiBhcmdzLm9iamVjdDtcclxuICAgIGNvbnN0IHZtID0gbmV3IE9ic2VydmFibGUoKTtcclxuXHJcbiAgICB2bS5zZXQoXCJidXR0b25UZXh0XCIsIFwiRGlzYWJsZSBjb2xvciBjaGFuZ2VcIik7XHJcbiAgICB2bS5zZXQoXCJidXR0b25jb2xvclwiLCBcImdyYXlcIik7XHJcbiAgICAvLyA+PiBzZXQtaW50ZXJ2YWwtZXhhbXBsZS10c1xyXG4gICAgaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmFuZE51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChjb2xvci5sZW5ndGgpKTtcclxuICAgICAgICB2bS5zZXQoXCJidXR0b25jb2xvclwiLCBjb2xvcltyYW5kTnVtYmVyXSk7XHJcbiAgICB9LCAxMDAwKTtcclxuICAgIC8vIDw8IHNldC1pbnRlcnZhbC1leGFtcGxlLXRzXHJcbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gdm07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvbkJ1dHRvblRhcChhcmdzKSB7XHJcbiAgICBjb25zdCBwYWdlOiBQYWdlID0gPFBhZ2U+IGFyZ3Mub2JqZWN0LnBhZ2U7XHJcbiAgICBjb25zdCB2bSA9IHBhZ2UuYmluZGluZ0NvbnRleHQ7XHJcbiAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAvLyA+PiBjbGVhci1pbnRlcnZhbC1leGFtcGxlLXRzXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XHJcbiAgICAvLyA8PCBjbGVhci1pbnRlcnZhbC1leGFtcGxlLXRzXHJcbiAgICAgICAgdm0uc2V0KFwiYnV0dG9uVGV4dFwiLCBcIkVuYWJsZSBjb2xvciBjaGFuZ2VcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByYW5kTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGNvbG9yLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB2bS5zZXQoXCJidXR0b25jb2xvclwiLCBjb2xvcltyYW5kTnVtYmVyXSk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHZtLnNldChcImJ1dHRvblRleHRcIiwgXCJEaXNhYmxlIGNvbG9yIGNoYW5nZVwiKTtcclxuICAgIH1cclxuICAgIHN0YXR1cyA9ICFzdGF0dXM7XHJcbn1cclxuIl19