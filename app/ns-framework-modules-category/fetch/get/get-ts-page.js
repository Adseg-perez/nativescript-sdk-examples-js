"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("tns-core-modules/data/observable");
function onNavigatingTo(args) {
    var page = args.object;
    var vm = new observable_1.Observable();
    vm.set("getStringResultButton", "Show getString result");
    vm.set("getStringResultVisible", false);
    vm.set("getJSONResultButton", "Show getJSON result");
    vm.set("getJSONResultVisible", false);
    vm.set("statusCodeResultButton", "Show statusCode result");
    vm.set("statusCodeResult", "");
    vm.set("statusCodeResultVisible", false);
    vm.set("responseHeadersResultButton", "Show responseHeaders result");
    vm.set("responseHeadersResultVisible", false);
    vm.set("responseFormDataResultButton", "Show responseFormData result");
    vm.set("responseFormDataResultVisible", false);
    page.bindingContext = vm;
}
exports.onNavigatingTo = onNavigatingTo;
function onButtonTap(args) {
    var button = args.object;
    var page = args.object.page;
    var vm = page.bindingContext;
    var id = button.get("id");
    var status = vm.get(id + "ResultVisible");
    if (!status) {
        switch (id) {
            case "getString":
                getStringExample(vm);
                break;
            case "getJSON":
                getJSONExample(vm);
                break;
            case "statusCode":
                getResponseStatusCodeExample(vm);
                break;
            case "responseHeaders":
                getResponseHeadersExample(vm);
                break;
            case "responseFormData":
                getResponseFormDataExample(vm);
                break;
            default:
                break;
        }
    }
    switch (!status) {
        case true:
            vm.set(id + "ResultVisible", "Hide " + id + " result");
            break;
        case false:
            vm.set(id + "ResultVisible", "Show " + id + " result");
            break;
        default:
            break;
    }
    vm.set(id + "ResultVisible", !status);
}
exports.onButtonTap = onButtonTap;
function getStringExample(viewModel) {
    fetch("https://httpbin.org/get")
        .then(function (response) { return response.text(); })
        .then(function (r) {
        viewModel.set("getStringResult", r);
    }).catch(function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
exports.getStringExample = getStringExample;
function getJSONExample(viewModel) {
    fetch("https://httpbin.org/get")
        .then(function (response) { return response.json(); })
        .then(function (r) {
        viewModel.set("host", r.headers.Host);
        viewModel.set("userAgent", r.headers["User-Agent"]);
        viewModel.set("origin", r.origin);
        viewModel.set("url", r.url);
    }).catch(function (err) {
        console.log("Error: ");
        console.log(err);
    });
}
exports.getJSONExample = getJSONExample;
function getResponseStatusCodeExample(viewModel) {
    fetch("https://httpbin.org/get").then(function (response) {
        console.log(response);
        var status = response.status;
        viewModel.set("statusCodeResult", status);
    }).catch(function (err) {
        console.log("Error: ");
        console.log(err);
    });
}
exports.getResponseStatusCodeExample = getResponseStatusCodeExample;
function getResponseHeadersExample(viewModel) {
    console.log("getResponseHeadersExample");
    fetch("https://httpbin.org/get")
        .then(function (r) { return r.json(); })
        .then(function (response) {
        console.log("Header");
        console.log(response);
        viewModel.set("acceptEncoding", response.headers["Accept-Encoding"]);
        viewModel.set("userAgent", response.headers["User-Agent"]);
        viewModel.set("host", response.headers.Host);
    }).catch(function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
exports.getResponseHeadersExample = getResponseHeadersExample;
function getResponseFormDataExample(viewModel) {
    fetch("https://httpbin.org/get")
        .then(function (result) { return result.formData(); })
        .then(function (response) {
        viewModel.set("responseFormDataResult", response);
    })
        .catch(function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
exports.getResponseFormDataExample = getResponseFormDataExample;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXRzLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJnZXQtdHMtcGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtEQUE4RDtBQUU5RCx3QkFBK0IsSUFBSTtJQUMvQixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3pCLElBQU0sRUFBRSxHQUFHLElBQUksdUJBQVUsRUFBRSxDQUFDO0lBRTVCLEVBQUUsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztJQUN6RCxFQUFFLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXhDLEVBQUUsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUscUJBQXFCLENBQUMsQ0FBQztJQUNyRCxFQUFFLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXRDLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztJQUMzRCxFQUFFLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLEVBQUUsQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFekMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0lBQ3JFLEVBQUUsQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFOUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRSw4QkFBOEIsQ0FBQyxDQUFDO0lBQ3ZFLEVBQUUsQ0FBQyxHQUFHLENBQUMsK0JBQStCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFL0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7QUFDN0IsQ0FBQztBQXJCRCx3Q0FxQkM7QUFFRCxxQkFBNEIsSUFBSTtJQUM1QixJQUFN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UUFDckUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQzNELFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFakQsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUMsQ0FBQztRQUVQLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVuQixDQUFDLENBQUMsQ0FBQztBQUVQLENBQUM7QUFwQkQsOERBb0JDO0FBRUQsb0NBQTJDLFNBQVM7SUFFaEQsS0FBSyxDQUFDLHlCQUF5QixDQUFDO1NBQy9CLElBQUksQ0FBQyxVQUFDLE1BQU0sSUFBSyxPQUFBLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBakIsQ0FBaUIsQ0FBQztTQUNuQyxJQUFJLENBQUMsVUFBQyxRQUFRO1FBRVgsU0FBUyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUV0RCxDQUFDLENBQUM7U0FDRCxLQUFLLENBQUMsVUFBQyxDQUFDO1FBRUwsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRW5CLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQztBQWhCRCxnRUFnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgY29uc3QgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgIGNvbnN0IHZtID0gbmV3IE9ic2VydmFibGUoKTtcblxuICAgIHZtLnNldChcImdldFN0cmluZ1Jlc3VsdEJ1dHRvblwiLCBcIlNob3cgZ2V0U3RyaW5nIHJlc3VsdFwiKTtcbiAgICB2bS5zZXQoXCJnZXRTdHJpbmdSZXN1bHRWaXNpYmxlXCIsIGZhbHNlKTtcblxuICAgIHZtLnNldChcImdldEpTT05SZXN1bHRCdXR0b25cIiwgXCJTaG93IGdldEpTT04gcmVzdWx0XCIpO1xuICAgIHZtLnNldChcImdldEpTT05SZXN1bHRWaXNpYmxlXCIsIGZhbHNlKTtcblxuICAgIHZtLnNldChcInN0YXR1c0NvZGVSZXN1bHRCdXR0b25cIiwgXCJTaG93IHN0YXR1c0NvZGUgcmVzdWx0XCIpO1xuICAgIHZtLnNldChcInN0YXR1c0NvZGVSZXN1bHRcIiwgXCJcIik7XG4gICAgdm0uc2V0KFwic3RhdHVzQ29kZVJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xuXG4gICAgdm0uc2V0KFwicmVzcG9uc2VIZWFkZXJzUmVzdWx0QnV0dG9uXCIsIFwiU2hvdyByZXNwb25zZUhlYWRlcnMgcmVzdWx0XCIpO1xuICAgIHZtLnNldChcInJlc3BvbnNlSGVhZGVyc1Jlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xuXG4gICAgdm0uc2V0KFwicmVzcG9uc2VGb3JtRGF0YVJlc3VsdEJ1dHRvblwiLCBcIlNob3cgcmVzcG9uc2VGb3JtRGF0YSByZXN1bHRcIik7XG4gICAgdm0uc2V0KFwicmVzcG9uc2VGb3JtRGF0YVJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xuXG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHZtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25CdXR0b25UYXAoYXJncykge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGFyZ3Mub2JqZWN0O1xuICAgIGNvbnN0IHBhZ2UgPSBhcmdzLm9iamVjdC5wYWdlO1xuICAgIGNvbnN0IHZtID0gcGFnZS5iaW5kaW5nQ29udGV4dDtcbiAgICBjb25zdCBpZCA9IGJ1dHRvbi5nZXQoXCJpZFwiKTtcbiAgICBjb25zdCBzdGF0dXMgPSB2bS5nZXQoYCR7aWR9UmVzdWx0VmlzaWJsZWApO1xuXG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgc3dpdGNoIChpZCkge1xuICAgICAgICAgICAgY2FzZSBcImdldFN0cmluZ1wiOlxuICAgICAgICAgICAgICAgIGdldFN0cmluZ0V4YW1wbGUodm0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImdldEpTT05cIjpcbiAgICAgICAgICAgICAgICBnZXRKU09ORXhhbXBsZSh2bSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RhdHVzQ29kZVwiOlxuICAgICAgICAgICAgICAgIGdldFJlc3BvbnNlU3RhdHVzQ29kZUV4YW1wbGUodm0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlSGVhZGVyc1wiOlxuICAgICAgICAgICAgICAgIGdldFJlc3BvbnNlSGVhZGVyc0V4YW1wbGUodm0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlRm9ybURhdGFcIjpcbiAgICAgICAgICAgICAgICBnZXRSZXNwb25zZUZvcm1EYXRhRXhhbXBsZSh2bSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoIXN0YXR1cykge1xuICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICAgICAgdm0uc2V0KGAke2lkfVJlc3VsdFZpc2libGVgLCBgSGlkZSAke2lkfSByZXN1bHRgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgICAgICAgIHZtLnNldChgJHtpZH1SZXN1bHRWaXNpYmxlYCwgYFNob3cgJHtpZH0gcmVzdWx0YCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2bS5zZXQoYCR7aWR9UmVzdWx0VmlzaWJsZWAsICFzdGF0dXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RyaW5nRXhhbXBsZSh2aWV3TW9kZWwpIHtcbiAgICAvLyA+PiBnZXQtc3RyaW5nLWNvZGUtZmV0Y2gtdHNcbiAgICBmZXRjaChcImh0dHBzOi8vaHR0cGJpbi5vcmcvZ2V0XCIpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgLnRoZW4oKHIpID0+IHtcbiAgICAgICAgdmlld01vZGVsLnNldChcImdldFN0cmluZ1Jlc3VsdFwiLCByKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAvLyA+PiAoaGlkZSlcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgLy8gPDwgKGhpZGUpXG4gICAgfSk7XG4gICAgLy8gPDwgZ2V0LXN0cmluZy1jb2RlLWZldGNoLXRzXG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SlNPTkV4YW1wbGUodmlld01vZGVsKSB7XG4gICAgLy8gPj4gZ2V0LWpzb24tY29kZS1mZXRjaC10c1xuICAgIGZldGNoKFwiaHR0cHM6Ly9odHRwYmluLm9yZy9nZXRcIilcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbigocikgPT4ge1xuICAgICAgICAvLyA+PiAoaGlkZSlcbiAgICAgICAgdmlld01vZGVsLnNldChcImhvc3RcIiwgci5oZWFkZXJzLkhvc3QpO1xuICAgICAgICB2aWV3TW9kZWwuc2V0KFwidXNlckFnZW50XCIsIHIuaGVhZGVyc1tcIlVzZXItQWdlbnRcIl0pO1xuICAgICAgICB2aWV3TW9kZWwuc2V0KFwib3JpZ2luXCIsIHIub3JpZ2luKTtcbiAgICAgICAgdmlld01vZGVsLnNldChcInVybFwiLCByLnVybCk7XG4gICAgICAgIC8vIDw8IChoaWRlKVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgLy8gPj4gKGhpZGUpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgLy8gPDwgKGhpZGUpXG4gICAgfSk7XG4gICAgLy8gPDwgZ2V0LWpzb24tY29kZS1mZXRjaC10c1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3BvbnNlU3RhdHVzQ29kZUV4YW1wbGUodmlld01vZGVsKSB7XG4gICAgLy8gPj4gcmVxdWVzdC1zdGF0dXMtY29kZS1mZXRjaC10c1xuICAgIGZldGNoKFwiaHR0cHM6Ly9odHRwYmluLm9yZy9nZXRcIikudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgLy8gPj4gKGhpZGUpXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICB2aWV3TW9kZWwuc2V0KFwic3RhdHVzQ29kZVJlc3VsdFwiLCBzdGF0dXMpO1xuICAgICAgICAvLyA8PCAoaGlkZSlcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIC8vID4+IChoaWRlKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIC8vIDw8IChoaWRlKVxuICAgIH0pO1xuICAgIC8vIDw8IHJlcXVlc3Qtc3RhdHVzLWNvZGUtZmV0Y2gtdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3BvbnNlSGVhZGVyc0V4YW1wbGUodmlld01vZGVsKSB7XG4gICAgY29uc29sZS5sb2coXCJnZXRSZXNwb25zZUhlYWRlcnNFeGFtcGxlXCIpO1xuICAgIC8vID4+IHJlcXVlc3QtcmVzcG9uc2UtaGVhZGVyLWZldGNoLXRzXG4gICAgZmV0Y2goXCJodHRwczovL2h0dHBiaW4ub3JnL2dldFwiKVxuICAgIC50aGVuKChyKSA9PiByLmpzb24oKSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgLy8gPj4gKGhpZGUpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGVhZGVyXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJhY2NlcHRFbmNvZGluZ1wiLCByZXNwb25zZS5oZWFkZXJzW1wiQWNjZXB0LUVuY29kaW5nXCJdKTtcbiAgICAgICAgdmlld01vZGVsLnNldChcInVzZXJBZ2VudFwiLCByZXNwb25zZS5oZWFkZXJzW1wiVXNlci1BZ2VudFwiXSk7XG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJob3N0XCIsIHJlc3BvbnNlLmhlYWRlcnMuSG9zdCk7XG4gICAgICAgIC8vIDw8IChoaWRlKVxuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIC8vID4+IChoaWRlKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAvLyA8PCAoaGlkZSlcbiAgICB9KTtcbiAgICAvLyA8PCByZXF1ZXN0LXJlc3BvbnNlLWhlYWRlci1mZXRjaC10c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzcG9uc2VGb3JtRGF0YUV4YW1wbGUodmlld01vZGVsKSB7XG4gICAgLy8gPj4gcmVxdWVzdC1yZXNwb25zZS1mb3JtLWRhdGEtdHNcbiAgICBmZXRjaChcImh0dHBzOi8vaHR0cGJpbi5vcmcvZ2V0XCIpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0LmZvcm1EYXRhKCkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIC8vID4+IChoaWRlKVxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwicmVzcG9uc2VGb3JtRGF0YVJlc3VsdFwiLCByZXNwb25zZSk7XG4gICAgICAgIC8vIDw8IChoaWRlKVxuICAgIH0pXG4gICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIC8vID4+IChoaWRlKVxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAvLyA8PCAoaGlkZSlcbiAgICB9KTtcbiAgICAvLyA8PCByZXF1ZXN0LXJlc3BvbnNlLWZvcm0tZGF0YS10c1xufVxuIl19