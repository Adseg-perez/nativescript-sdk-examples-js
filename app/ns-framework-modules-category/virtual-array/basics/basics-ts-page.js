"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var virtual_array_1 = require("tns-core-modules/data/virtual-array");
function onNavigatingTo(data) {
    var page = data.object;
    var virtualArray = new virtual_array_1.VirtualArray(100);
    virtualArray.loadSize = 15;
    virtualArray.on(virtual_array_1.VirtualArray.itemsLoadingEvent, function (args) {
        var itemsToLoad = [];
        for (var i = 0; i < args.count; i++) {
            itemsToLoad.push(i + args.index);
        }
        virtualArray.load(args.index, itemsToLoad);
    });
    virtualArray.on(virtual_array_1.VirtualArray.changeEvent, function (args) {
        console.log(args.eventName);
        console.log(args.action);
        console.log(args.removed.length);
    });
    page.bindingContext = { items: virtualArray };
}
exports.onNavigatingTo = onNavigatingTo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzaWNzLXRzLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJiYXNpY3MtdHMtcGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHFFQUFnRjtBQUdoRix3QkFBK0IsSUFBSTtJQUMvQixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBR3pCLElBQU0sWUFBWSxHQUFHLElBQUksNEJBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQyxZQUFZLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUUzQixZQUFZLENBQUMsRUFBRSxDQUFDLDRCQUFZLENBQUMsaUJBQWlCLEVBQUUsVUFBQyxJQUFTO1FBS3RELElBQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN2QixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUNsQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVELFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMvQyxDQUFDLENBQUMsQ0FBQztJQUlILFlBQVksQ0FBQyxFQUFFLENBQUMsNEJBQVksQ0FBQyxXQUFXLEVBQUUsVUFBQyxJQUFTO1FBRWhELE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXpCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQztJQUdILElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLENBQUM7QUFDbEQsQ0FBQztBQWhDRCx3Q0FnQ0MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA+PiB2aXJ0dWFsLWFycmF5LXJlcXVpcmUtdHNcbmltcG9ydCB7IFZpcnR1YWxBcnJheSwgQ2hhbmdlZERhdGEgfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy9kYXRhL3ZpcnR1YWwtYXJyYXlcIjtcbi8vIDw8IHZpcnR1YWwtYXJyYXktcmVxdWlyZS10c1xuXG5leHBvcnQgZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oZGF0YSkge1xuICAgIGNvbnN0IHBhZ2UgPSBkYXRhLm9iamVjdDtcblxuICAgIC8vID4+IHZpcnR1YWwtYXJyYXktY3JlYXRpb24tdHNcbiAgICBjb25zdCB2aXJ0dWFsQXJyYXkgPSBuZXcgVmlydHVhbEFycmF5KDEwMCk7XG4gICAgdmlydHVhbEFycmF5LmxvYWRTaXplID0gMTU7XG5cbiAgICB2aXJ0dWFsQXJyYXkub24oVmlydHVhbEFycmF5Lml0ZW1zTG9hZGluZ0V2ZW50LCAoYXJnczogYW55KSA9PiB7XG5cbiAgICAgICAgLy8gQXJndW1lbnQgKGFyZ3MpIGlzIEl0ZW1zTG9hZGluZyBJbnRlcmZhY2UuXG4gICAgICAgIC8vIGFyZ3MuaW5kZXggaXMgc3RhcnQgaW5kZXggb2YgdGhlIHBhZ2Ugd2hlcmUgdGhlIHJlcXVlc3RlZCBpbmRleCBpcyBsb2NhdGVkLlxuICAgICAgICAvLyBhcmdzLmNvdW50IG51bWJlciBvZiByZXF1ZXN0ZWQgaXRlbXMuXG4gICAgICAgIGNvbnN0IGl0ZW1zVG9Mb2FkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtc1RvTG9hZC5wdXNoKGkgKyBhcmdzLmluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpcnR1YWxBcnJheS5sb2FkKGFyZ3MuaW5kZXgsIGl0ZW1zVG9Mb2FkKTtcbiAgICB9KTtcbiAgICAvLyA8PCB2aXJ0dWFsLWFycmF5LWNyZWF0aW9uLXRzXG5cbiAgICAvLyA+PiB2aXJ0dWFsLWFycmF5LWNoYW5nZS10c1xuICAgIHZpcnR1YWxBcnJheS5vbihWaXJ0dWFsQXJyYXkuY2hhbmdlRXZlbnQsIChhcmdzOiBhbnkpID0+IHtcbiAgICAgICAgLy8gQXJndW1lbnQgKGFyZ3MpIGlzIENoYW5nZWREYXRhPFQ+IEludGVyZmFjZS5cbiAgICAgICAgY29uc29sZS5sb2coYXJncy5ldmVudE5hbWUpOyAvLyBhcmdzLmV2ZW50TmFtZSBpcyBcImNoYW5nZVwiLlxuICAgICAgICBjb25zb2xlLmxvZyhhcmdzLmFjdGlvbik7IC8vIGFyZ3MuYWN0aW9uIGlzIFwidXBkYXRlXCIuXG4gICAgICAgIC8vIGFyZ3MucmVtb3ZlZC5sZW5ndGggYW5kIHJlc3VsdC5hZGRlZENvdW50IGFyZSBlcXVhbCB0byBudW1iZXIgb2YgbG9hZGVkIGl0ZW1zIHdpdGggbG9hZCgpIG1ldGhvZC5cbiAgICAgICAgY29uc29sZS5sb2coYXJncy5yZW1vdmVkLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgLy8gPDwgdmlydHVhbC1hcnJheS1jaGFuZ2UtdHNcblxuICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSB7IGl0ZW1zOiB2aXJ0dWFsQXJyYXkgfTtcbn1cbiJdfQ==