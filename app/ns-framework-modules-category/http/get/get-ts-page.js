"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var observable_1 = require("tns-core-modules/data/observable");
var file_system_1 = require("tns-core-modules/file-system");
var http_1 = require("tns-core-modules/http");
function onNavigatingTo(args) {
    var page = args.object;
    var vm = new observable_1.Observable();
    vm.set("getStringResultButton", "Show getString result");
    vm.set("getStringResultVisible", false);
    vm.set("getJSONResultButton", "Show getJSON result");
    vm.set("getJSONResultVisible", false);
    vm.set("getImageResultButton", "Show getImage result");
    vm.set("getImageResultVisible", false);
    vm.set("statusCodeResultButton", "Show statusCode result");
    vm.set("statusCodeResult", "");
    vm.set("statusCodeResultVisible", false);
    vm.set("responseHeadersResultButton", "Show responseHeaders result");
    vm.set("responseHeadersResultVisible", false);
    vm.set("responseContentResultButton", "Show responseContent result");
    vm.set("responseContentResultVisible", false);
    vm.set("getFileResultButton", "Show getFile result");
    vm.set("getFileResultVisible", false);
    vm.set("getFileWithPathResultButton", "Show getFileWithPath result");
    vm.set("getFileWithPathResultVisible", false);
    page.bindingContext = vm;
}
exports.onNavigatingTo = onNavigatingTo;
function onButtonTap(args) {
    var button = args.object;
    var page = args.object.page;
    var vm = page.bindingContext;
    var id = button.get("id");
    var status = vm.get(id + "ResultVisible");
    if (!status) {
        switch (id) {
            case "getString":
                getStringExample(vm);
                break;
            case "getJSON":
                getJSONExample(vm);
                break;
            case "getImage":
                getImageExample(vm);
                break;
            case "statusCode":
                getResponseStatusCodeExample(vm);
                break;
            case "responseHeaders":
                getResponseHeadersExample(vm);
                break;
            case "responseContent":
                getResponseContentExample(vm);
                break;
            case "getFile":
                getFileExample(vm);
                break;
            case "getFileWithPath":
                getFileWithPathExample(vm);
                break;
            default:
                break;
        }
    }
    switch (!status) {
        case true:
            vm.set(id + "ResultButton", "Hide " + id + " result");
            break;
        case false:
            vm.set(id + "ResultButton", "Show " + id + " result");
            break;
        default:
            break;
    }
    vm.set(id + "ResultVisible", !status);
}
exports.onButtonTap = onButtonTap;
function getStringExample(viewModel) {
    http_1.getString("https://httpbin.org/get").then(function (r) {
        viewModel.set("getStringResult", r);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getJSONExample(viewModel) {
    http_1.getJSON("https://httpbin.org/get").then(function (r) {
        viewModel.set("host", r.headers.Host);
        viewModel.set("userAgent", r.headers["User-Agent"]);
        viewModel.set("origin", r.origin);
        viewModel.set("url", r.url);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getImageExample(viewModel) {
    http_1.getImage("https://httpbin.org/image/jpeg").then(function (r) {
        viewModel.set("getImageResult", r);
        viewModel.set("imageWidth", r.width);
        viewModel.set("imageHeight", r.height);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getResponseStatusCodeExample(viewModel) {
    http_1.request({
        url: "https://httpbin.org/get",
        method: "GET"
    }).then(function (response) {
        var statusCode = response.statusCode;
        viewModel.set("statusCodeResult", statusCode);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getResponseHeadersExample(viewModel) {
    console.log("getResponseHeadersExample");
    http_1.request({
        url: "https://httpbin.org/get",
        method: "GET"
    }).then(function (response) {
        viewModel.set("contentType", response.headers["Content-Type"]);
        viewModel.set("date", response.headers.Date);
        viewModel.set("server", response.headers.Server);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getResponseContentExample(viewModel) {
    http_1.request({
        url: "https://httpbin.org/get",
        method: "GET"
    }).then(function (response) {
        var str = response.content.toString();
        viewModel.set("responseContentResult", str);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getFileExample(viewModel) {
    http_1.getFile("https://raw.githubusercontent.com/NativeScript/NativeScript/master/tests/app/logo.png").then(function (resultFile) {
        viewModel.set("name", resultFile.name);
        viewModel.set("extension", resultFile.extension);
        viewModel.set("path", resultFile.path);
        viewModel.set("getFileResult", resultFile.path);
        viewModel.set("getFileImageWidth", 72);
        viewModel.set("getFileImageHeight", 72);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
function getFileWithPathExample(viewModel) {
    var filePath = file_system_1.path.join(file_system_1.knownFolders.currentApp().path, "test.png");
    http_1.getFile("https://httpbin.org/image/png?testQuery=query&anotherParam=param", filePath).then(function (resultFile) {
        viewModel.set("name_get_file_with_path", resultFile.name);
        viewModel.set("extension_get_file_with_path", resultFile.extension);
        viewModel.set("path_get_file_with_path", resultFile.path);
        viewModel.set("getFileWithPathResult", resultFile.path);
        viewModel.set("getFileWithPathImageWidth", 100);
        viewModel.set("getFileWithPathHeight", 100);
    }, function (e) {
        console.log("Error: ");
        console.log(e);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXRzLXBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJnZXQtdHMtcGFnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtEQUE0RDtBQUM1RCw0REFBc0U7QUFFdEUsOENBQW9HO0FBSXBHLHdCQUErQixJQUFJO0lBQy9CLElBQU0sSUFBSSxHQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3RDLElBQU0sRUFBRSxHQUFHLElBQUksdUJBQVUsRUFBRSxDQUFDO0lBRTVCLEVBQUUsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztJQUN6RCxFQUFFLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXhDLEVBQUUsQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUscUJBQXFCLENBQUMsQ0FBQztJQUNyRCxFQUFFLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXRDLEVBQUUsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztJQUN2RCxFQUFFLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXZDLEVBQUUsQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztJQUMzRCxFQUFFLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLEVBQUUsQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFekMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0lBQ3JFLEVBQUUsQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFOUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0lBQ3JF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Z0NBQWdDLFNBQVM7SUFFckMsSUFBTSxRQUFRLEdBQVcsa0JBQUksQ0FBQyxJQUFJLENBQUMsMEJBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDL0UsY0FBTyxDQUFDLGtFQUFrRSxFQUFFLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLFVBQWdCO1FBR3hHLFNBQVMsQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFELFNBQVMsQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BFLFNBQVMsQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFELFNBQVMsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELFNBQVMsQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDaEQsU0FBUyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUVoRCxDQUFDLEVBQUUsVUFBQyxDQUFDO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRW5CLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XHJcbmltcG9ydCB7cGF0aCwga25vd25Gb2xkZXJzLCBGaWxlfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy9maWxlLXN5c3RlbVwiO1xyXG5pbXBvcnQge1BhZ2V9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL3BhZ2VcIjtcclxuaW1wb3J0IHsgZ2V0RmlsZSwgZ2V0SW1hZ2UsIGdldEpTT04sIGdldFN0cmluZywgcmVxdWVzdCwgSHR0cFJlc3BvbnNlIH0gZnJvbVwidG5zLWNvcmUtbW9kdWxlcy9odHRwXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBJbWFnZVNvdXJjZSB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL2ltYWdlLXNvdXJjZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcclxuICAgIGNvbnN0IHBhZ2U6IFBhZ2UgPSA8UGFnZT4gYXJncy5vYmplY3Q7XHJcbiAgICBjb25zdCB2bSA9IG5ldyBPYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgdm0uc2V0KFwiZ2V0U3RyaW5nUmVzdWx0QnV0dG9uXCIsIFwiU2hvdyBnZXRTdHJpbmcgcmVzdWx0XCIpO1xyXG4gICAgdm0uc2V0KFwiZ2V0U3RyaW5nUmVzdWx0VmlzaWJsZVwiLCBmYWxzZSk7XHJcblxyXG4gICAgdm0uc2V0KFwiZ2V0SlNPTlJlc3VsdEJ1dHRvblwiLCBcIlNob3cgZ2V0SlNPTiByZXN1bHRcIik7XHJcbiAgICB2bS5zZXQoXCJnZXRKU09OUmVzdWx0VmlzaWJsZVwiLCBmYWxzZSk7XHJcblxyXG4gICAgdm0uc2V0KFwiZ2V0SW1hZ2VSZXN1bHRCdXR0b25cIiwgXCJTaG93IGdldEltYWdlIHJlc3VsdFwiKTtcclxuICAgIHZtLnNldChcImdldEltYWdlUmVzdWx0VmlzaWJsZVwiLCBmYWxzZSk7XHJcblxyXG4gICAgdm0uc2V0KFwic3RhdHVzQ29kZVJlc3VsdEJ1dHRvblwiLCBcIlNob3cgc3RhdHVzQ29kZSByZXN1bHRcIik7XHJcbiAgICB2bS5zZXQoXCJzdGF0dXNDb2RlUmVzdWx0XCIsIFwiXCIpO1xyXG4gICAgdm0uc2V0KFwic3RhdHVzQ29kZVJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xyXG5cclxuICAgIHZtLnNldChcInJlc3BvbnNlSGVhZGVyc1Jlc3VsdEJ1dHRvblwiLCBcIlNob3cgcmVzcG9uc2VIZWFkZXJzIHJlc3VsdFwiKTtcclxuICAgIHZtLnNldChcInJlc3BvbnNlSGVhZGVyc1Jlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xyXG5cclxuICAgIHZtLnNldChcInJlc3BvbnNlQ29udGVudFJlc3VsdEJ1dHRvblwiLCBcIlNob3cgcmVzcG9uc2VDb250ZW50IHJlc3VsdFwiKTtcclxuICAgIHZtLnNldChcInJlc3BvbnNlQ29udGVudFJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xyXG5cclxuICAgIHZtLnNldChcImdldEZpbGVSZXN1bHRCdXR0b25cIiwgXCJTaG93IGdldEZpbGUgcmVzdWx0XCIpO1xyXG4gICAgdm0uc2V0KFwiZ2V0RmlsZVJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xyXG5cclxuICAgIHZtLnNldChcImdldEZpbGVXaXRoUGF0aFJlc3VsdEJ1dHRvblwiLCBcIlNob3cgZ2V0RmlsZVdpdGhQYXRoIHJlc3VsdFwiKTtcclxuICAgIHZtLnNldChcImdldEZpbGVXaXRoUGF0aFJlc3VsdFZpc2libGVcIiwgZmFsc2UpO1xyXG5cclxuICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSB2bTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uQnV0dG9uVGFwKGFyZ3MpIHtcclxuICAgIGNvbnN0IGJ1dHRvbjogQnV0dG9uID0gPEJ1dHRvbj4gYXJncy5vYmplY3Q7XHJcbiAgICBjb25zdCBwYWdlOiBQYWdlID0gPFBhZ2U+IGFyZ3Mub2JqZWN0LnBhZ2U7XHJcbiAgICBjb25zdCB2bSA9IHBhZ2UuYmluZGluZ0NvbnRleHQ7XHJcbiAgICBjb25zdCBpZDogc3RyaW5nID0gYnV0dG9uLmdldChcImlkXCIpO1xyXG4gICAgY29uc3Qgc3RhdHVzOmJvb2xlYW4gPSB2bS5nZXQoYCR7aWR9UmVzdWx0VmlzaWJsZWApO1xyXG5cclxuICAgIGlmICghc3RhdHVzKSB7XHJcbiAgICAgICAgc3dpdGNoIChpZCkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0U3RyaW5nXCI6XHJcbiAgICAgICAgICAgICAgICBnZXRTdHJpbmdFeGFtcGxlKHZtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0SlNPTlwiOlxyXG4gICAgICAgICAgICAgICAgZ2V0SlNPTkV4YW1wbGUodm0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRJbWFnZVwiOlxyXG4gICAgICAgICAgICAgICAgZ2V0SW1hZ2VFeGFtcGxlKHZtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic3RhdHVzQ29kZVwiOlxyXG4gICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2VTdGF0dXNDb2RlRXhhbXBsZSh2bSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlSGVhZGVyc1wiOlxyXG4gICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2VIZWFkZXJzRXhhbXBsZSh2bSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJlc3BvbnNlQ29udGVudFwiOlxyXG4gICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2VDb250ZW50RXhhbXBsZSh2bSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImdldEZpbGVcIjpcclxuICAgICAgICAgICAgICAgIGdldEZpbGVFeGFtcGxlKHZtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0RmlsZVdpdGhQYXRoXCI6XHJcbiAgICAgICAgICAgICAgICBnZXRGaWxlV2l0aFBhdGhFeGFtcGxlKHZtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3dpdGNoICghc3RhdHVzKSB7XHJcbiAgICAgICAgY2FzZSB0cnVlOlxyXG4gICAgICAgICAgICAgICAgdm0uc2V0KGAke2lkfVJlc3VsdEJ1dHRvbmAsIGBIaWRlICR7aWR9IHJlc3VsdGApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgICAgICAgdm0uc2V0KGAke2lkfVJlc3VsdEJ1dHRvbmAsIGBTaG93ICR7aWR9IHJlc3VsdGApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHZtLnNldChgJHtpZH1SZXN1bHRWaXNpYmxlYCwgIXN0YXR1cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN0cmluZ0V4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiBnZXQtc3RyaW5nLWNvZGUtdHNcclxuICAgIGdldFN0cmluZyhcImh0dHBzOi8vaHR0cGJpbi5vcmcvZ2V0XCIpLnRoZW4oKHI6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJnZXRTdHJpbmdSZXN1bHRcIiwgcik7XHJcbiAgICB9LCAoZSkgPT4ge1xyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAvLyA8PCAoaGlkZSlcclxuICAgIH0pO1xyXG4gICAgLy8gPDwgZ2V0LXN0cmluZy1jb2RlLXRzXHJcbn1cclxuZnVuY3Rpb24gZ2V0SlNPTkV4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiBnZXQtanNvbi1jb2RlLXRzXHJcbiAgICBnZXRKU09OKFwiaHR0cHM6Ly9odHRwYmluLm9yZy9nZXRcIikudGhlbigocjogYW55KSA9PiB7XHJcbiAgICAgICAgLy8gPj4gKGhpZGUpXHJcbiAgICAgICAgdmlld01vZGVsLnNldChcImhvc3RcIiwgci5oZWFkZXJzLkhvc3QpO1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJ1c2VyQWdlbnRcIiwgci5oZWFkZXJzW1wiVXNlci1BZ2VudFwiXSk7XHJcbiAgICAgICAgdmlld01vZGVsLnNldChcIm9yaWdpblwiLCByLm9yaWdpbik7XHJcbiAgICAgICAgdmlld01vZGVsLnNldChcInVybFwiLCByLnVybCk7XHJcbiAgICAgICAgLy8gPDwgKGhpZGUpXHJcbiAgICB9LCAoZSkgPT4ge1xyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAvLyA8PCAoaGlkZSlcclxuICAgIH0pO1xyXG4gICAgLy8gPDwgZ2V0LWpzb24tY29kZS10c1xyXG59XHJcbmZ1bmN0aW9uIGdldEltYWdlRXhhbXBsZSh2aWV3TW9kZWwpIHtcclxuICAgIC8vID4+IGdldC1pbWFnZS1jb2RlLXRzXHJcbiAgICBnZXRJbWFnZShcImh0dHBzOi8vaHR0cGJpbi5vcmcvaW1hZ2UvanBlZ1wiKS50aGVuKChyOiBJbWFnZVNvdXJjZSkgPT4ge1xyXG4gICAgICAgIC8vIGdldEltYWdlIG1ldGhvZCByZXR1cm5zIEltYWdlU291cmNlIG9iamVjdFxyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJnZXRJbWFnZVJlc3VsdFwiLCByKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiaW1hZ2VXaWR0aFwiLCByLndpZHRoKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiaW1hZ2VIZWlnaHRcIiwgci5oZWlnaHQpO1xyXG4gICAgICAgIC8vIDw8IChoaWRlKVxyXG4gICAgfSwgKGUpID0+IHtcclxuICAgICAgICAvLyA+PiAoaGlkZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgLy8gPDwgKGhpZGUpXHJcbiAgICB9KTtcclxuICAgIC8vIDw8IGdldC1pbWFnZS1jb2RlLXRzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlc3BvbnNlU3RhdHVzQ29kZUV4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiByZXF1ZXN0LXN0YXR1cy1jb2RlLXRzXHJcbiAgICByZXF1ZXN0KHtcclxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9odHRwYmluLm9yZy9nZXRcIixcclxuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAvLyBBcmd1bWVudCAocmVzcG9uc2UpIGlzIEh0dHBSZXNwb25zZVxyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJzdGF0dXNDb2RlUmVzdWx0XCIsIHN0YXR1c0NvZGUpO1xyXG4gICAgICAgIC8vIDw8IChoaWRlKVxyXG4gICAgfSwgKGUpID0+IHtcclxuICAgICAgICAvLyA+PiAoaGlkZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgLy8gPDwgKGhpZGUpXHJcbiAgICB9KTtcclxuICAgIC8vIDw8IHJlcXVlc3Qtc3RhdHVzLWNvZGUtdHNcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UmVzcG9uc2VIZWFkZXJzRXhhbXBsZSh2aWV3TW9kZWwpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZ2V0UmVzcG9uc2VIZWFkZXJzRXhhbXBsZVwiKTtcclxuICAgIC8vID4+IHJlcXVlc3QtcmVzcG9uc2UtaGVhZGVyLXRzXHJcbiAgICByZXF1ZXN0KHtcclxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9odHRwYmluLm9yZy9nZXRcIixcclxuICAgICAgICBtZXRob2Q6IFwiR0VUXCJcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAvLyBBcmd1bWVudCAocmVzcG9uc2UpIGlzIEh0dHBSZXNwb25zZVxyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJjb250ZW50VHlwZVwiLCByZXNwb25zZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiZGF0ZVwiLCByZXNwb25zZS5oZWFkZXJzLkRhdGUpO1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJzZXJ2ZXJcIiwgcmVzcG9uc2UuaGVhZGVycy5TZXJ2ZXIpO1xyXG4gICAgICAgIC8vIDw8IChoaWRlKVxyXG4gICAgfSwgKGUpID0+IHtcclxuICAgICAgICAvLyA+PiAoaGlkZSlcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgLy8gPDwgKGhpZGUpXHJcbiAgICB9KTtcclxuICAgIC8vIDw8IHJlcXVlc3QtcmVzcG9uc2UtaGVhZGVyLXRzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlc3BvbnNlQ29udGVudEV4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiByZXF1ZXN0LXJlc3BvbnNlLWNvbnRlbnQtdHNcclxuICAgIHJlcXVlc3Qoe1xyXG4gICAgICAgIHVybDogXCJodHRwczovL2h0dHBiaW4ub3JnL2dldFwiLFxyXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIlxyXG4gICAgfSkudGhlbigocmVzcG9uc2U6IEh0dHBSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIC8vIENvbnRlbnQgcHJvcGVydHkgb2YgdGhlIHJlc3BvbnNlIGlzIEh0dHBDb250ZW50XHJcbiAgICAgICAgLy8gVGhlIHRvU3RyaW5nIG1ldGhvZCBhbGxvd3MgeW91IHRvIGdldCB0aGUgcmVzcG9uc2UgYm9keSBhcyBzdHJpbmcuXHJcbiAgICAgICAgY29uc3Qgc3RyID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJyZXNwb25zZUNvbnRlbnRSZXN1bHRcIiwgc3RyKTtcclxuICAgICAgICAvLyA8PCAoaGlkZSlcclxuICAgICAgICAvLyBUaGUgdG9KU09OIG1ldGhvZCBhbGxvd3MgeW91IHRvIHBhcnNlIHRoZSByZWNlaXZlZCBjb250ZW50IHRvIEpTT04gb2JqZWN0XHJcbiAgICAgICAgLy8gdmFyIG9iaiA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XHJcbiAgICAgICAgLy8gVGhlIHRvSW1hZ2UgbWV0aG9kIGFsbG93cyB5b3UgdG8gZ2V0IHRoZSByZXNwb25zZSBib2R5IGFzIEltYWdlU291cmNlLlxyXG4gICAgICAgIC8vIHZhciBpbWcgPSByZXNwb25zZS5jb250ZW50LnRvSW1hZ2UoKTtcclxuICAgIH0sIChlKSA9PiB7XHJcbiAgICAgICAgLy8gPj4gKGhpZGUpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIC8vIDw8IChoaWRlKVxyXG4gICAgfSk7XHJcbiAgICAvLyA8PCByZXF1ZXN0LXJlc3BvbnNlLWNvbnRlbnQtdHNcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RmlsZUV4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiBnZXQtZmlsZS1jb2RlLXRzXHJcbiAgICBnZXRGaWxlKFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL05hdGl2ZVNjcmlwdC9OYXRpdmVTY3JpcHQvbWFzdGVyL3Rlc3RzL2FwcC9sb2dvLnBuZ1wiKS50aGVuKChyZXN1bHRGaWxlKSA9PiB7XHJcbiAgICAgICAgLy8gVGhlIHJldHVybmVkIHJlc3VsdCB3aWxsIGJlIEZpbGUgb2JqZWN0XHJcbiAgICAgICAgLy8gPj4gKGhpZGUpXHJcbiAgICAgICAgdmlld01vZGVsLnNldChcIm5hbWVcIiwgcmVzdWx0RmlsZS5uYW1lKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiZXh0ZW5zaW9uXCIsIHJlc3VsdEZpbGUuZXh0ZW5zaW9uKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwicGF0aFwiLCByZXN1bHRGaWxlLnBhdGgpO1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJnZXRGaWxlUmVzdWx0XCIsIHJlc3VsdEZpbGUucGF0aCk7XHJcbiAgICAgICAgdmlld01vZGVsLnNldChcImdldEZpbGVJbWFnZVdpZHRoXCIsIDcyKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiZ2V0RmlsZUltYWdlSGVpZ2h0XCIsIDcyKTtcclxuICAgICAgICAvLyA8PCAoaGlkZSlcclxuICAgIH0sIChlKSA9PiB7XHJcbiAgICAgICAgLy8gPj4gKGhpZGUpXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvcjogXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIC8vIDw8IChoaWRlKVxyXG4gICAgfSk7XHJcbiAgICAvLyA8PCBnZXQtZmlsZS1jb2RlLXRzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZpbGVXaXRoUGF0aEV4YW1wbGUodmlld01vZGVsKSB7XHJcbiAgICAvLyA+PiBnZXQtZmlsZS1jb2RlLXdpdGgtcGF0aC10c1xyXG4gICAgY29uc3QgZmlsZVBhdGg6IHN0cmluZyA9IHBhdGguam9pbihrbm93bkZvbGRlcnMuY3VycmVudEFwcCgpLnBhdGgsIFwidGVzdC5wbmdcIik7XHJcbiAgICBnZXRGaWxlKFwiaHR0cHM6Ly9odHRwYmluLm9yZy9pbWFnZS9wbmc/dGVzdFF1ZXJ5PXF1ZXJ5JmFub3RoZXJQYXJhbT1wYXJhbVwiLCBmaWxlUGF0aCkudGhlbigocmVzdWx0RmlsZSA6RmlsZSkgPT4ge1xyXG4gICAgICAgIC8vIFRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBiZSBGaWxlIG9iamVjdFxyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJuYW1lX2dldF9maWxlX3dpdGhfcGF0aFwiLCByZXN1bHRGaWxlLm5hbWUpO1xyXG4gICAgICAgIHZpZXdNb2RlbC5zZXQoXCJleHRlbnNpb25fZ2V0X2ZpbGVfd2l0aF9wYXRoXCIsIHJlc3VsdEZpbGUuZXh0ZW5zaW9uKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwicGF0aF9nZXRfZmlsZV93aXRoX3BhdGhcIiwgcmVzdWx0RmlsZS5wYXRoKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiZ2V0RmlsZVdpdGhQYXRoUmVzdWx0XCIsIHJlc3VsdEZpbGUucGF0aCk7XHJcbiAgICAgICAgdmlld01vZGVsLnNldChcImdldEZpbGVXaXRoUGF0aEltYWdlV2lkdGhcIiwgMTAwKTtcclxuICAgICAgICB2aWV3TW9kZWwuc2V0KFwiZ2V0RmlsZVdpdGhQYXRoSGVpZ2h0XCIsIDEwMCk7XHJcbiAgICAgICAgLy8gPDwgKGhpZGUpXHJcbiAgICB9LCAoZSkgPT4ge1xyXG4gICAgICAgIC8vID4+IChoaWRlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAvLyA8PCAoaGlkZSlcclxuICAgIH0pO1xyXG4gICAgLy8gPDwgZ2V0LWZpbGUtY29kZS13aXRoLXBhdGgtdHNcclxufVxyXG4iXX0=